import { LineEdit, VerticalBox } from "std-widgets.slint";
import "./PixelifySans-VariableFont_wght.ttf";

export component NowView inherits Rectangle {
    in-out property <string> current-date: "MON, JAN 01";
    in-out property <string> current-time: "00:00:00";
    in-out property <string> weather-icon: "‚òÄÔ∏è"; 
    in-out property <string> weather-temp: "--¬∞C";
    in-out property <string> weather-desc: "Weather: N/A";
    in-out property <string> user-status-icon: "üßë‚Äçüíª";
    in-out property <string> user-status-text: "Online";
    property <color> pixel-bg: #000000;
    property <color> pixel-fg-time: #FFFFFF;
    property <color> pixel-fg-date: #A0A0A0;
    property <color> pixel-fg-weather: #C0C0C0;
    property <color> pixel-accent-weather: #FFD700;
    background: pixel-bg;
    padding: 5px;
    GridLayout {
        padding: 10px;
        spacing: 15px;

        // Row 1: Main Time and Status Icon
        Row {
            VerticalLayout {
                width: 70%;
                spacing: 2px;
                Text {
                    text: root.current-date;
                    color: pixel-fg-date;
                    font-size: 20px;
                    font-family: "Pixelify Sans";
                    font-weight: 400;
                    horizontal-alignment: center;
                }

                Text {
                    text: root.current-time;
                    color: pixel-fg-time;
                    font-size: 72px;
                    font-family: "Pixelify Sans";
                    font-weight: 400;
                    horizontal-alignment: center;
                }
            }

            Text {
                width: 30%;
                text: root.user-status-icon;
                font-size: 28px;
                font-family: "Pixelify Sans";
                font-weight: 400;
                horizontal-alignment: center;
            }
        }

        // Row 2: Weather Information (spans across)
        Row {
            Rectangle {
                horizontal-stretch: 1;
                border-radius: 3px;
                border-width: 1px;
                padding: 8px;
                HorizontalLayout {
                    alignment: center;
                    spacing: 10px;
                    Text {
                        text: root.weather-icon;
                        color: pixel-accent-weather;
                        font-size: 28px;
                    }

                    VerticalLayout {
                        Text {
                            text: root.weather-temp;
                            color: pixel-accent-weather;
                            font-size: 20px;
                            font-family: "Pixelify Sans";
                            font-weight: 400;
                            horizontal-alignment: center;
                        }

                        Text {
                            text: root.weather-desc;
                            color: pixel-fg-weather;
                            font-size: 12px;
                            font-family: "Pixelify Sans";
                            font-weight: 400;
                            wrap: word-wrap;
                            horizontal-alignment: center;
                        }
                    }
                }
            }
        }
        // Optional: User status text below everything for later
        // Row { 
        //     Text { 
        //         text: root.user-status-text; 
        //         horizontal-alignment: center; 
        //         color: pixel-fg-date; 
        //     }
        // }
    }
}
